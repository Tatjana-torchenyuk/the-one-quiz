<%- include('./partials/header-quiz'); %>

<main class="container p-3" id="score">
    <section class="card text-center">
        <h1 class="card-header py-3 fs-3">Score</h1>
        <figure>
            <img src="/assets/images/score-samswedding.jpeg" alt="Merry, Pippin and Frodo cheering"
            title="Merry, Frodo and Pippin cheering" class="card-img-center" />
            <figcaption>
                &copy; <cite>The Lord of the Rings</cite>
            </figcaption>
        </figure>
        <h2 class="fs-4 mt-3">Goed gespeeld!</h2>
        <div class="card-body p-3">
            <p class="card-text fs-5">Huidige Score: <%= score %></p>
            <p class="card-text fs-5">Hoogste Score: <%= highScore %></p>
        </div>
        <div class="card-footer text-muted">
            <a href="/quiz" class="btn btn-primary" id="logout">Terug naar quiz</a>
        </div>
        <div class="answers">
            <% questions.forEach(q => { %>
                <div class="card">
                    <p class="card-header"><%= q.dialog %></p>
                    <% if (q.correct_character && q.answer_character && q.correct_character === q.answer_character) { %>
                        <div class="answer-section correct">
                            <p class="card-body character"><%= q.answer_character.name %></p>
                            <p class="card-body movie"><%= q.answer_movie.name %></p>
                        </div>
                    <% } else if (q.answer_character && q.correct_character) { %>
                        <div class="answer-section wrong">
                            <p class="card-body character" style="color: darkred; text-decoration: line-through;"><%= q.answer_character.name %></p>
                            <p class="arrow">&#8594;</p>
                            <p class="card-body character-corrected" style="color: darkgreen;"><%= q.correct_character.name %></p>
                        </div>
                        <div class="answer-section wrong">
                            <p class="card-body movie" style="color: darkred; text-decoration: line-through;"><%= q.answer_movie.name %></p>
                            <p class="arrow">&#8594;</p>
                            <p class="card-body movie-corrected" style="color: darkgreen;"><%= q.correct_movie.name %></p>
                        </div>
                    <% } %>
                </div>
            <% }); %>
        </div>        
    </section>
</main>

<%- include('./partials/footer-quiz'); %>